<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day9_도서 대여 관리_정보처리산업기사 실기</title>
<link rel="stylesheet" href="0_hrdkorea.css">
</head>
<body>
    <header>
        <div>
            <h3 class="header-item">도서대여관관리 ver 1.0</h3>
        </div>
    </header>
    <nav>
        <ul class="container">
            <li><a href="">회원등록</a></li>
            <li><a href="">회원목록조회/수정</a></li>
            <li><a href="">도서목록조회/수정</a></li>
            <li><a href="2_bookRent.html">도서대여</a></li>
            <li><a href="3_bookReturn.html">도서반납</a></li>
            <li><a href="1_home.html">홈으로</a></li>
        </ul>
    </nav>
    <main>
        <section style="padding-bottom: 2000px;">
            <h4 style="text-align: center;">쇼핑몰 회원관리 프로그램</h4>
                <form action="">
                    대여번호 : <input type="text" name="r_name"><br>
                    회원번호 : <input type="text" name="mem_no"><br>
                    도서코드 : <input type="text" name="book_bo"><br>
                    대여일자 : <input type="date" name="r_date" onchange="rent()"><br>
                    반납예정일자 : <input type="date" name="c_date" onchange="come()"><br>
                    <button type="button">대여</button>
                    <span id="days"></span>
                </form>
                <script>
                    const start = document.forms[0].r_date;
                    const end = document.forms[0].c_date;
                    const oneday_timestamp = 1*24*60*60*1000; 

                    function rent(){
                        let temp = new Date(start.value)    
                        temp.setDate(temp.getDate()+parseInt(days.value))   

                        const year = temp.getFullYear();
                        const month = (temp.getMonth()+1).toString().padStart(2,0);
                        const date_=temp.getDate().toString().padStart(2,0);
                        end.value = [year,month,date_].join('-');
                    }

                    function come(){
                        const oneday_timestamp = 1*24*60*60*1000; 
                        if(start.value==''){
                            alert('입실날짜를 선택하세요.')
                            start.focus()
                        }else if(end.value <= start.value){  //3)입실날짜와 퇴실날짜 비교
                            alert('퇴실날짜는 입실날짜 이후로 하세요.')
                            end.focus()
                        }else{
                        const temp = new Date(end.value)-new Date(start.value)
                        const oneday_timestamp = 1*24*60*60*1000; 
                        document.getElementById('days').innerHTML=`대여기간 ${temp/oneday_timestamp}박 입니다.` 
                        document.getElementById('days').style.color='red'

                        let diff=temp/oneday_timestamp;
                        
                    }
                }
                </script>
            </p>
        </section>
        <footer>
            HRDKOREA copyright&copy;2016 All rights reverved. Human Resouces Develoments Service Korea.
        </footer>
    </main>
</body>
</html> 